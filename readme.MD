# 🔮 赛博看相：玄学头像分析器

通过后天八卦理论分析头像图片的吉凶，融合五行色彩学和现代图像处理技术。  
本项目仅供娱乐参考，真实运势需多方综合判断。


## 说明
### 处理流程
- 🖼️ 九宫格分割与方位识别
  - 为适应现代人的方位习惯，将后天八卦图倒置，北方坎宫为上。


- 🌈 图片五行分析
  - 全图分析：根据上传图片的主要内容判断全图的五行属性。
  - 九宫分析：根据上传图片各宫的主要内容判断各宫的五行属性。
  - 生克计算：根据全图/各宫的五行属性与理想五行熟悉，计算该图片是否符合五行生克关系。   
  ```
  分析思路为:
  优先根据该图/该宫位的主要物体判断五行属性。
  如没有可识别物体，则根据主要颜色判断五行属性。  
  识别算法采用pretrained Yolo11 

- 📜 玄学建议报告生成
  - 根据以上分析结果，生成关于头像图片的玄学建议报告。

### 主要文件

├─analyzer  
│  │  luoshu.py                     九宫格分割与方位识别  
│  │  wuxing.py                     图片五行分析  
│  └─ wuxing_detector.py            图片五行分析  
├─data  
│  │  jiugong.json                  九宫方位与理想五行属性  
│  │  wuxing.json                   五行生克关系矩阵  
│  │  result_template.txt           报告输出模板  
│  └─ wuxing_mapping.json           基于coco目标识别分类，为各类别物体赋予对应的五行属性   

## 在线地址

[点击访问HuggingFace在线页面](https://huggingface.co/spaces/FrozenPenguin/NineHalls)
